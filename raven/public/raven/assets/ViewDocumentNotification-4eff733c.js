var b=Object.defineProperty,j=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var u=(o,e,t)=>e in o?b(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,l=(o,e)=>{for(var t in e||(e={}))S.call(e,t)&&u(o,t,e[t]);if(d)for(var t of d(e))D.call(e,t)&&u(o,t,e[t]);return o},f=(o,e)=>j(o,v(e));import{bg as g,bh as y,j as s,E as p,F as E,ad as N,u as w,r as C,ae as F,at as P,o as L,e as k,$ as R}from"./index-81db420b.js";import{D as V}from"./DocumentNotificationForm-ca0f61a2.js";import{P as B,S as H,a as K}from"./SettingsContentContainer-c8f50a15.js";import{a as I}from"./validations-18aa1769.js";import"./useDoctypeMeta-749cfb81.js";import"./InstructionField-5664444b.js";import"./DoctypeVariableDialogForm-2f0c0daa.js";const Q=o=>{const{ID:e}=g(),{data:t,isLoading:n,error:c,mutate:a}=y("Raven Document Notification",e);return s.jsxs(B,{children:[s.jsx(p,{error:c}),n&&s.jsx(E,{className:"h-64"}),t&&s.jsx(T,{data:t,mutate:a})]})},T=({data:o,mutate:e})=>{const{updateDoc:t,loading:n,error:c}=N(),a=w({disabled:n,defaultValues:o}),{formState:{dirtyFields:x}}=a,h=!I(x),m=i=>{t("Raven Document Notification",i.name,i).then(r=>{R.success("Saved"),a.reset(r),e(r,{revalidate:!1})})};return C.useEffect(()=>{const i=r=>{r.key==="s"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),a.handleSubmit(m)())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),s.jsx("form",{onSubmit:a.handleSubmit(m),children:s.jsx(F,f(l({},a),{children:s.jsxs(H,{children:[s.jsx(K,{title:o.name,headerBadges:h?[{label:"Not Saved",color:"red"}]:void 0,actions:s.jsx(P,{children:s.jsxs(L,{type:"submit",disabled:n,children:[n&&s.jsx(k,{className:"text-white"}),n?"Saving":"Save"]})}),breadcrumbs:[{label:"Document Notifications",href:"../"},{label:o.name,href:"",copyToClipboard:!0}]}),s.jsx(p,{error:c}),s.jsx(V,{isEdit:!0})]})}))})},U=Q;export{U as Component};
