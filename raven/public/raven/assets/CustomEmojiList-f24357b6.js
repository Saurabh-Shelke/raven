var u=(r,a,s)=>new Promise((o,t)=>{var i=n=>{try{c(s.next(n))}catch(d){t(d)}},l=n=>{try{c(s.throw(n))}catch(d){t(d)}},c=n=>n.done?o(n.value):Promise.resolve(n.value).then(i,l);c((s=s.apply(r,a)).next())});import{bq as E,j as e,a8 as y,a9 as C,q as D,br as w,ab as v,V as N,bc as S,E as f,at as b,Y as k,o as h,Z as A,aZ as P,bs as T,r as B,f as g,bt as Y,aw as _,ax as I,az as p,aA as m,ay as L,aB as j,i as x,bu as M}from"./index-81db420b.js";import{A as R}from"./AddCustomEmojiDialog-15ed8490.js";import{E as U,a as z,b as G,c as $}from"./EmptyListViewState-9bbcffec.js";import{T as q}from"./TableLoader-47d8c4ae.js";import{P as F,S as H,a as O}from"./SettingsContentContainer-c8f50a15.js";import"./Skeleton-9de30e70.js";const V=({emojiID:r,onDelete:a})=>{const{deleteDoc:s,loading:o,error:t}=E(),i=()=>u(void 0,null,function*(){yield s("Raven Custom Emoji",r),a()});return e.jsxs(y,{children:[e.jsx(C,{children:e.jsx(D,{color:"red",variant:"soft",size:"2",className:"group-hover:visible invisible",children:e.jsx(w,{})})}),e.jsxs(v,{children:[e.jsx(N,{children:"Delete Emoji"}),e.jsx(S,{children:"Are you sure you want to delete this emoji?"}),t&&e.jsx(f,{error:t}),e.jsxs(b,{justify:"end",gap:"2",pt:"2",children:[e.jsx(k,{children:e.jsx(h,{disabled:o,color:"gray",variant:"soft",children:"Cancel"})}),e.jsx(A,{onClick:i,disabled:o,children:e.jsx(h,{color:"red",disabled:o,children:"Delete"})})]})]})]})},Z=()=>{const{mutate:r}=P(),{data:a,isLoading:s,error:o,mutate:t}=T("Raven Custom Emoji",{fields:["name","emoji_name","image","keywords","owner","creation"],orderBy:{field:"modified",order:"desc"}},void 0,{errorRetryCount:2}),[i,l]=B.useState(!1),c=(d=!1)=>{d&&(t(),r("custom-emojis")),l(!1)},n=()=>{t(),r("custom-emojis")};return e.jsx(F,{children:e.jsxs(H,{children:[e.jsx(O,{title:"Emojis",description:e.jsxs(e.Fragment,{children:["Add custom emojis to use for your reactions. PNG, SVG and GIFs supported. ",e.jsx("br",{}),"Need help finding one? Download from ",e.jsx(g,{href:"https://emoji.gg",target:"_blank",children:"Emoji.gg"}),"."]}),actions:e.jsx(h,{onClick:()=>l(!0),children:"Upload"})}),s&&!o&&e.jsx(q,{columns:2}),e.jsx(f,{error:o}),a&&a.length>0&&e.jsx(K,{emojis:a,onDelete:n}),(a==null?void 0:a.length)===0&&e.jsxs(U,{children:[e.jsx(z,{children:e.jsx(Y,{})}),e.jsx(G,{children:"Emojis"}),e.jsxs($,{children:["Personalize your chats with custom emojis.",e.jsx("br",{}),"Upload your own or download from ",e.jsx(g,{href:"https://emoji.gg",target:"_blank",children:"Emoji.gg"}),"."]}),e.jsx(h,{className:"not-cal",onClick:()=>l(!0),children:"Upload"})]}),e.jsx(R,{open:i,onClose:c})]})})},K=({emojis:r,onDelete:a})=>e.jsxs(_,{variant:"surface",className:"rounded-sm animate-fadein",children:[e.jsx(I,{children:e.jsxs(p,{children:[e.jsx(m,{children:"Name"}),e.jsx(m,{children:"Keywords"}),e.jsx(m,{children:"Uploaded By"}),e.jsx(m,{children:"Added"}),e.jsx(m,{})]})}),e.jsx(L,{children:r==null?void 0:r.map(s=>e.jsxs(p,{className:"hover:bg-gray-1 dark:hover:bg-gray-1 group",children:[e.jsx(j,{children:e.jsxs(b,{align:"center",gap:"2",children:[e.jsx("img",{src:s.image,alt:s.emoji_name,className:"h-8 w-8 object-contain object-center"}),e.jsxs(x,{weight:"medium",children:[":",s.emoji_name,":"]})]})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:s.keywords})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:s.owner})}),e.jsx(j,{align:"center",children:e.jsx(x,{className:"flex h-full items-center",children:M(s.creation).format("MMM Do, YYYY")})}),e.jsx(j,{align:"center",children:e.jsx(V,{emojiID:s.name,onDelete:a})})]},s.name))})]}),re=Z;export{re as Component};
