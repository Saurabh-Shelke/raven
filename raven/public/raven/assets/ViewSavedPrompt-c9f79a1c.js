var b=Object.defineProperty,h=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var l=(s,e,t)=>e in s?b(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,u=(s,e)=>{for(var t in e||(e={}))j.call(e,t)&&l(s,t,e[t]);if(c)for(var t of c(e))P.call(e,t)&&l(s,t,e[t]);return s},p=(s,e)=>h(s,f(e));import{bg as g,bh as y,j as r,E as x,F as E,ad as C,u as w,r as F,ae as L,o as B,e as D,$ as k}from"./index-81db420b.js";import{S as I}from"./SavedPromptForm-df58b9e5.js";import{P as N,S as R,a as V}from"./SettingsContentContainer-c8f50a15.js";import{a as A}from"./validations-18aa1769.js";import"./AINotEnabledCallout-6cdcef2f.js";import"./useRavenSettings-a6b6461e.js";const K=s=>{const{ID:e}=g(),{data:t,isLoading:n,error:m,mutate:a}=y("Raven Bot AI Prompt",e);return r.jsxs(N,{children:[r.jsx(x,{error:m}),n&&r.jsx(E,{className:"h-64"}),t&&r.jsx(H,{data:t,mutate:a})]})},H=({data:s,mutate:e})=>{const{updateDoc:t,loading:n,error:m}=C(),a=w({disabled:n,defaultValues:s}),{formState:{dirtyFields:v}}=a,S=!A(v),d=i=>{t("Raven Bot AI Prompt",i.name,i).then(o=>{k.success("Saved"),a.reset(o),e(o,{revalidate:!1})})};return F.useEffect(()=>{const i=o=>{o.key==="s"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),a.handleSubmit(d)())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),r.jsx("form",{onSubmit:a.handleSubmit(d),children:r.jsx(L,p(u({},a),{children:r.jsxs(R,{children:[r.jsx(V,{title:s.name,headerBadges:S?[{label:"Not Saved",color:"red"}]:void 0,actions:r.jsxs(B,{type:"submit",disabled:n,children:[n&&r.jsx(D,{className:"text-white"}),n?"Saving":"Save"]}),breadcrumbs:[{label:"Commands",href:"../"},{label:s.name,href:"",copyToClipboard:!0}]}),r.jsx(x,{error:m}),r.jsx(I,{})]})}))})},M=K;export{M as Component};
