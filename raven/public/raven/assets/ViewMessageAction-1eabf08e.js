var h=Object.defineProperty,b=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var l=(t,e,s)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,u=(t,e)=>{for(var s in e||(e={}))f.call(e,s)&&l(t,s,e[s]);if(d)for(var s of d(e))v.call(e,s)&&l(t,s,e[s]);return t},p=(t,e)=>b(t,j(e));import{bg as S,bh as y,j as a,E as x,F as E,ad as M,u as w,r as A,ae as C,at as P,o as F,e as L,$ as k}from"./index-81db420b.js";import{M as D}from"./MessageActionForm-cc86b7ff.js";import{P as N,S as R,a as V}from"./SettingsContentContainer-c8f50a15.js";import"./useDoctypeMeta-749cfb81.js";import"./DoctypeVariableDialogForm-2f0c0daa.js";import"./validations-18aa1769.js";import"./CodeBlock-5fc83e57.js";import"./index-a9edd0f4.js";/* empty css                      */const B=t=>{const{ID:e}=S(),{data:s,isLoading:n,error:c,mutate:o}=y("Raven Message Action",e);return a.jsxs(N,{children:[a.jsx(x,{error:c}),n&&a.jsx(E,{className:"h-64"}),s&&a.jsx(H,{data:s,mutate:o})]})},H=({data:t,mutate:e})=>{const{updateDoc:s,loading:n,error:c}=M(),o=w({disabled:n,defaultValues:t}),{formState:{isDirty:g}}=o,m=i=>{s("Raven Message Action",i.name,i).then(r=>{k.success("Saved"),o.reset(r),e(r,{revalidate:!1})})};return A.useEffect(()=>{const i=r=>{r.key==="s"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),o.handleSubmit(m)())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[]),a.jsx("form",{onSubmit:o.handleSubmit(m),children:a.jsx(C,p(u({},o),{children:a.jsxs(R,{children:[a.jsx(V,{title:t.action_name,headerBadges:g?[{label:"Not Saved",color:"red"}]:void 0,actions:a.jsx(P,{children:a.jsxs(F,{type:"submit",disabled:n,children:[n&&a.jsx(L,{className:"text-white"}),n?"Saving":"Save"]})}),breadcrumbs:[{label:"Message Actions",href:"../"},{label:t.action_name,href:"",copyToClipboard:!0}]}),a.jsx(x,{error:c}),a.jsx(D,{})]})}))})},O=B;export{O as Component};
