import{j as e,a as r,r as c,i,aC as h,b$ as u,q as o,g as d,c0 as x,a8 as g,a9 as j,br as p,ab as b,a7 as m,av as y,bs as S,c1 as C,o as E,E as f,cH as v}from"./index-81db420b.js";import{A as w}from"./DeleteAlert-72df79c6.js";import{P as k,S as L,a as R}from"./SettingsContentContainer-c8f50a15.js";import{T as A}from"./TableLoader-47d8c4ae.js";import{S as N}from"./ServerScriptNotEnabledForm-c4f27eef.js";import{E as T,a as O,b as D,c as $,d as z}from"./EmptyListViewState-9bbcffec.js";import"./Skeleton-9de30e70.js";const M=({data:s})=>e.jsx(r,{direction:"column",gap:"4",width:"100%",className:"animate-fadein",children:s==null?void 0:s.map((t,a)=>e.jsx(B,{item:t},a))}),B=({item:s})=>{const[t,a]=c.useState(!1),n=()=>{a(!1)};return e.jsx(r,{direction:"column",gap:"2",width:"100%",justify:"between",className:"border border-gray-4 dark:border-gray-6 rounded-radius2 p-3",children:e.jsxs(r,{direction:"row",align:"center",justify:"between",children:[e.jsxs(r,{direction:"column",gap:"1",children:[e.jsxs(r,{direction:"row",gap:"2",children:[e.jsx(i,{size:"2",weight:"bold",children:s.name}),e.jsx(h,{color:s.disabled?"gray":"green",children:s.disabled?"Disabled":"Enabled"})]}),e.jsxs(i,{size:"1",style:{fontStyle:"italic",color:"gray"},children:["Created by ",s.owner," on ",e.jsx(u,{date:s.creation})]})]}),e.jsxs(r,{direction:"row",gap:"2",align:"center",children:[e.jsx(o,{variant:"ghost",color:"gray","aria-label":"Click to edit webhook",title:"Edit webhook",asChild:!0,style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(d,{to:`./${s.name}`,children:e.jsx(x,{size:"16"})})}),e.jsxs(g,{open:t,onOpenChange:a,children:[e.jsx(j,{children:e.jsx(o,{variant:"ghost",color:"red","aria-label":"Click to delete webhook",title:"Delete webhook",onClick:()=>{},style:{"--icon-button-ghost-padding":"0",height:"var(--base-button-height)",width:"var(--base-button-height)"},children:e.jsx(p,{size:"16"})})}),e.jsx(b,{className:m,children:e.jsx(w,{doctype:"Raven Scheduler Event",docname:s.name,onClose:n})})]})]})]})})},I=()=>{const s=y(),{data:t,error:a,isLoading:n,mutate:l}=S("Raven Scheduler Event",{fields:["name","disabled","event_frequency","creation","owner"],orderBy:{field:"modified",order:"desc"}},s?void 0:null,{errorRetryCount:2});return C("Raven Scheduler Event",()=>{l()}),e.jsx(k,{children:e.jsxs(L,{children:[e.jsx(R,{title:"Scheduled Messages",description:"You can create a scheduled message & a bot will send it to you at the specified time.",actions:e.jsx(E,{asChild:!0,disabled:!s,children:e.jsx(d,{to:"create",children:"Create"})})}),n&&!a&&e.jsx(A,{columns:2}),e.jsx(f,{error:a}),e.jsx(N,{}),t&&t.length>0&&e.jsx(M,{data:t}),((t==null?void 0:t.length)===0||!s)&&e.jsxs(T,{children:[e.jsx(O,{children:e.jsx(v,{})}),e.jsx(D,{children:"Reminders"}),e.jsxs($,{children:["Schedule messages to be sent to you at a specific date and time.",e.jsx("br",{}),"These support the CRON syntax."]}),s&&e.jsx(z,{to:"create",children:"Schedule a reminder"})]})]})})},J=I;export{J as Component};
