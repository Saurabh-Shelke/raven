var _=Object.defineProperty,C=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var S=(s,a,i)=>a in s?_(s,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[a]=i,x=(s,a)=>{for(var i in a||(a={}))N.call(a,i)&&S(s,i,a[i]);if(y)for(var i of y(a))k.call(a,i)&&S(s,i,a[i]);return s},h=(s,a)=>C(s,F(a));var b=(s,a,i)=>new Promise((n,l)=>{var p=t=>{try{o(i.next(t))}catch(m){l(m)}},d=t=>{try{o(i.throw(t))}catch(m){l(m)}},o=t=>t.done?n(t.value):Promise.resolve(t.value).then(p,d);o((i=i.apply(s,a)).next())});import{h as A,u as P,r as g,n as R,j as e,E as T,p as I,a as c,L as E,b as q,d as v,o as U,e as $,i as z,f as w,g as B}from"./index-81db420b.js";import{i as D}from"./validations-18aa1769.js";import{A as J}from"./AuthContainer-6f4c35bc.js";import{S as M}from"./SuccessCallout-9d06a4f7.js";import{OtherLoginMethods as O}from"./Login-dae18583.js";import"./DateSeparator-55fa17c4.js";const V=()=>{var j,f;const{appearance:s}=A(),{register:a,handleSubmit:i,formState:{errors:n,isSubmitting:l}}=P(),{call:p}=g.useContext(R),[d,o]=g.useState(null),[t,m]=g.useState(null);function L(u){return b(this,null,function*(){return p.post("frappe.core.doctype.user.user.sign_up",{email:u.email,full_name:u.full_name,redirect_to:"/raven"}).then(r=>{m({state:!0,message:r!=null&&r.message[0]?r==null?void 0:r.message[1]:(r==null?void 0:r.message[1])+". Please Try Login."})}).catch(r=>{o(r)})})}return e.jsxs(J,{children:[d&&e.jsx(T,{error:d}),t&&e.jsx(M,{message:t.message}),e.jsx(I,{children:e.jsx("form",{onSubmit:i(L),children:e.jsxs(c,{direction:"column",gap:"4",children:[e.jsxs(c,{direction:"column",gap:"2",children:[e.jsx(E,{htmlFor:"full_name",isRequired:!0,size:"3",children:"Full Name"}),e.jsx(q,h(x({},a("full_name",{required:"Full Name is required."})),{name:"full_name",type:"text",required:!0,size:"3",color:"gray",placeholder:"Jane Doe",variant:s==="dark"?"soft":void 0,tabIndex:0})),(n==null?void 0:n.email)&&e.jsx(v,{children:(j=n==null?void 0:n.email)==null?void 0:j.message})]}),e.jsxs(c,{direction:"column",gap:"2",children:[e.jsx(E,{htmlFor:"email",isRequired:!0,size:"3",children:"Email"}),e.jsx(q,h(x({},a("email",{validate:u=>D(u)||"Please enter a valid email address.",required:"Email is required."})),{name:"email",type:"email",size:"3",color:"gray",variant:s==="dark"?"soft":void 0,required:!0,placeholder:"jane@example.com",tabIndex:0})),(n==null?void 0:n.email)&&e.jsx(v,{children:(f=n==null?void 0:n.email)==null?void 0:f.message})]}),e.jsx(c,{direction:"column",gap:"2",my:"2",children:e.jsx(U,{type:"submit",disabled:l,size:"3",className:"not-cal font-medium",children:l?e.jsx($,{className:"text-white"}):"Sign Up"})}),e.jsx(O,{isSubmitting:l}),e.jsxs(c,{gap:"1",justify:"center",children:[e.jsx(z,{size:"2",color:"gray",children:"Already have an account?"}),e.jsx(w,{size:"2",asChild:!0,children:e.jsx(B,{to:"/login",children:e.jsx(z,{children:"Login"})})})]})]})})})]})};V.displayName="SignUpPage";export{V as Component};
