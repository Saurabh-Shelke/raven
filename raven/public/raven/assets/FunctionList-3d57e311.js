import{aU as m,av as x,bs as h,j as e,o as p,g as d,E as j,bJ as u,aw as y,ax as g,az as o,aA as i,ay as b,aB as r,at as f,i as c,aC as S,aW as A}from"./index-81db420b.js";import{A as C}from"./AINotEnabledCallout-6cdcef2f.js";import{E,a as v,b as w,c as F,d as I}from"./EmptyListViewState-9bbcffec.js";import{T as L}from"./TableLoader-47d8c4ae.js";import{P as R,S as T,a as W}from"./SettingsContentContainer-c8f50a15.js";import"./useRavenSettings-a6b6461e.js";import"./Skeleton-9de30e70.js";const _=n=>{const s=m()||x(),{data:t,isLoading:l,error:a}=h("Raven AI Function",{fields:["name","description","function_name","type","requires_write_permissions"],orderBy:{field:"modified",order:"desc"}},s?void 0:null,{errorRetryCount:2});return e.jsx(R,{children:e.jsxs(T,{children:[e.jsx(W,{title:"Functions",description:"Declare functions to be used by your AI bots.",actions:e.jsx(p,{asChild:!0,disabled:!s,children:e.jsx(d,{to:"create",children:"Create"})})}),l&&!a&&e.jsx(L,{columns:4}),e.jsx(j,{error:a}),e.jsx(C,{}),t&&t.length>0&&e.jsx(k,{functions:t}),((t==null?void 0:t.length)===0||!s)&&e.jsxs(E,{children:[e.jsx(v,{children:e.jsx(u,{})}),e.jsx(w,{children:"Bots + Functions = AI Magic"}),e.jsx(F,{children:"Use the no-code builder to create functions that allow AI bots to perform actions within the system when requested, like creating documents, or fetching reports to analyze."}),s&&e.jsx(I,{to:"create",children:"Create your first function"})]})]})})},k=({functions:n})=>e.jsxs(y,{variant:"surface",className:"rounded-sm animate-fadein",children:[e.jsx(g,{children:e.jsxs(o,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Description"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Writes"})]})}),e.jsx(b,{children:n==null?void 0:n.map(s=>e.jsxs(o,{children:[e.jsx(r,{maxWidth:"250px",children:e.jsx(f,{align:"center",children:e.jsx(d,{to:`${s.name}`,className:"hover:underline underline-offset-4",children:e.jsx(c,{weight:"medium",children:s.function_name})})})}),e.jsx(r,{maxWidth:"300px",children:e.jsx(c,{className:"line-clamp-1 text-ellipsis",children:s.description})}),e.jsx(r,{maxWidth:"150px",children:e.jsx(S,{variant:"outline",children:s.type})}),e.jsx(r,{maxWidth:"50px",children:e.jsx(A,{checked:s.requires_write_permissions===1})})]},s.name))})]}),M=_;export{M as Component};
