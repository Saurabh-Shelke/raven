var K=Object.defineProperty,B=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var j=(a,t,l)=>t in a?K(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(a,t)=>{for(var l in t||(t={}))L.call(t,l)&&j(a,l,t[l]);if(b)for(var l of b(t))$.call(t,l)&&j(a,l,t[l]);return a},c=(a,t)=>B(a,E(t));import{r as y,ei as p,ej as m,M as A,j as e,L as H,b as J,K as O,at as f,a0 as k,i as o,J as X,b0 as q,S as G,eD as Q}from"./index-81db420b.js";function Z({selectedUsers:a,setSelectedUsers:t,getFilteredUsers:l,label:w}){const[h,d]=y.useState(""),g=y.useMemo(()=>l(a,h),[a,h]),{getSelectedItemProps:v,getDropdownProps:C,removeSelectedItem:z}=p({selectedItems:a,onStateChange({selectedItems:s,type:r}){switch(r){case p.stateChangeTypes.SelectedItemKeyDownBackspace:case p.stateChangeTypes.SelectedItemKeyDownDelete:case p.stateChangeTypes.DropdownKeyDownBackspace:case p.stateChangeTypes.FunctionRemoveSelectedItem:t(s!=null?s:[]);break}}}),{isOpen:x,getLabelProps:N,getMenuProps:D,getInputProps:T,highlightedIndex:S,getItemProps:M,selectedItem:P}=m({items:g,itemToString(s){return s?s.name:""},inputValue:h,onStateChange({inputValue:s,type:r,selectedItem:i}){switch(r){case m.stateChangeTypes.InputKeyDownEnter:case m.stateChangeTypes.ItemClick:case m.stateChangeTypes.InputBlur:i&&(t([...a,i]),d(""));break;case m.stateChangeTypes.InputChange:d(s!=null?s:"");break}}}),I=A();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(H,c(n({className:"w-fit"},N()),{children:w})),e.jsx(J,n({placeholder:"Type a name...",size:"3",className:"w-full",autoFocus:I},T(C())))]}),e.jsx("ul",c(n({className:`sm:w-[550px] w-[24rem] absolute bg-background mt-0 shadow-sm dark:shadow-md z-[9999] max-h-96 overflow-scroll p-0
                    border border-b-0 border-gray-3 dark:border-gray-6
                    ${!(x&&g.length)&&"hidden"}`},D()),{children:x&&g.map((s,r)=>{var i;return e.jsxs("li",c(n({className:O(S===r&&"dark:bg-accent-9 bg-gray-3",P===s&&"font-bold","py-2 px-3 flex justify-between gap-2 items-center cursor-default border-b dark:border-gray-6 border-gray-3")},M({item:s,index:r})),{children:[e.jsxs(f,{children:[e.jsx(k,{src:(i=s.user_image)!=null?i:"",alt:s.full_name,size:"2"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(o,{as:"span",weight:"medium",size:"2",children:s.full_name}),e.jsx(o,{as:"span",size:"1",weight:"light",children:s.name})]})]}),e.jsx(o,{as:"span",size:"1",color:"gray",weight:"medium",children:"Add"})]}),`${s.name}`)})})),a.length>0&&e.jsxs("div",{className:"mt-4 px-1",children:[e.jsx(X,{size:"4"}),e.jsx("div",{className:"pt-1",children:e.jsx(o,{as:"span",size:"1",color:"gray",weight:"medium",children:"Selected Members"})})]}),e.jsx(q,{className:"flex gap-1 my-1 items-center flex-wrap max-h-96",scrollbars:"vertical",children:a.map(function(r,i){var u;return e.jsxs("span",c(n({className:"flex justify-between w-full items-center hover:bg-gray-2 hover:dark:bg-gray-3 py-1.5 rounded-md transition-all duration-200"},v({selectedItem:r,index:i})),{children:[e.jsxs(f,{align:"center",gap:"2",px:"2",children:[e.jsx(k,{src:(u=r.user_image)!=null?u:"",alt:r.full_name,size:"2",variant:"solid"}),e.jsxs(G,{gap:"0",children:[e.jsx(o,{size:"2",weight:"medium",children:r.full_name}),e.jsx(o,{size:"1",weight:"light",children:r.name})]})]}),e.jsx("span",{className:"cursor-pointer h-full flex items-center px-4 text-gray-9 hover:text-red-9",role:"button","aria-label":"Remove user",title:"Remove user",onClick:_=>{_.stopPropagation(),z(r)},children:e.jsx(Q,{size:20})})]}),`selected-item-${i}`)})})]})}export{Z as M};
