var j=(c,d,s)=>new Promise((p,n)=>{var t=a=>{try{o(s.next(a))}catch(i){n(i)}},x=a=>{try{o(s.throw(a))}catch(i){n(i)}},o=a=>a.done?p(a.value):Promise.resolve(a.value).then(t,x);o((s=s.apply(c,d)).next())});import{r as u,bo as F,j as e,aq as E,E as U,bp as b,a as y,au as _,o as m,_ as g,e as C}from"./index-81db420b.js";const z=({uploadImage:c,label:d="Upload Image",doctype:s,docname:p,fieldname:n})=>{const[t,x]=u.useState(),[o,a]=u.useState(),{upload:i,loading:l}=F(),h=r=>{x(r)},f=()=>j(void 0,null,function*(){if(t)return i(t,{doctype:s,docname:p,fieldname:n,otherData:{optimize:"1"},isPrivate:!0}).then(r=>{c(r.file_url+"?fid="+r.name)}).catch(r=>{a(r)})});return e.jsxs(e.Fragment,{children:[e.jsx(E,{children:d}),e.jsx(U,{error:o}),e.jsx(b,{file:t,onFileChange:h,accept:{"image/*":[".jpeg",".jpg",".png"]},maxFileSize:10}),e.jsxs(y,{gap:"3",mt:"6",justify:"end",align:"center",children:[e.jsx(_,{disabled:l,children:e.jsx(m,{variant:"soft",color:"gray",children:g("Cancel")})}),e.jsxs(m,{type:"button",onClick:f,disabled:l,children:[l&&e.jsx(C,{}),l?g("Uploading"):g("Upload")]})]})]})};export{z as U};
