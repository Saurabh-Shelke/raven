import{aU as l,av as m,bs as h,j as e,o as x,g as d,E as u,bQ as j,aw as p,ax as f,az as o,aA as a,ay as y,aB as r,at as g,i as c,aC as b,aW as S}from"./index-81db420b.js";import{E as C,a as E,b as v,c as D,d as N}from"./EmptyListViewState-9bbcffec.js";import{T as L}from"./TableLoader-47d8c4ae.js";import{P as R,S as w,a as T}from"./SettingsContentContainer-c8f50a15.js";import"./Skeleton-9de30e70.js";const A=()=>{const s=l()||m(),{data:n,isLoading:t,error:i}=h("Raven Document Notification",{fields:["name","document_type","send_alert_on","enabled"],orderBy:{field:"modified",order:"desc"}},s?void 0:null,{errorRetryCount:2});return e.jsx(R,{children:e.jsxs(w,{children:[e.jsx(T,{title:"Document Notifications",description:"Configure alerts to be sent to users or channels when documents are updated in the system.",actions:e.jsx(x,{asChild:!0,disabled:!s,children:e.jsx(d,{to:"create",children:"Create"})})}),t&&!i&&e.jsx(L,{columns:4}),e.jsx(u,{error:i}),n&&n.length>0&&e.jsx(B,{notifications:n}),((n==null?void 0:n.length)===0||!s)&&e.jsxs(C,{children:[e.jsx(E,{children:e.jsx(j,{})}),e.jsx(v,{children:"Stay in the Loop"}),e.jsx(D,{children:"Send messages to channels or users based on document activity in your ERP system. Keep your team informed about important changes in real-time with rich document previews."}),s&&e.jsx(N,{to:"create",children:"Create your first notification"})]})]})})},B=({notifications:s})=>{const n=t=>t==="New Document"?"green":t==="Update"?"blue":t==="Submit"?"orange":t==="Cancel"?"red":"gray";return e.jsxs(p,{variant:"surface",className:"rounded-sm animate-fadein",children:[e.jsx(f,{children:e.jsxs(o,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Document Type"}),e.jsx(a,{children:"Send Alert On"}),e.jsx(a,{children:"Enabled"})]})}),e.jsx(y,{children:s==null?void 0:s.map(t=>e.jsxs(o,{children:[e.jsx(r,{maxWidth:"250px",children:e.jsx(g,{align:"center",children:e.jsx(d,{to:`${t.name}`,className:"hover:underline underline-offset-4",children:e.jsx(c,{weight:"medium",children:t.name})})})}),e.jsx(r,{maxWidth:"300px",children:e.jsx(c,{className:"h-full flex items-center",children:t.document_type})}),e.jsx(r,{maxWidth:"150px",children:e.jsx(b,{color:n(t.send_alert_on),children:t.send_alert_on})}),e.jsx(r,{children:e.jsx(S,{checked:t.enabled===1})})]},t.name))})]})},z=A;export{z as Component};
